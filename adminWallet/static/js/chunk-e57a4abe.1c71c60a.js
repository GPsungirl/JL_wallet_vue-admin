(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e57a4abe"],{"51cf":function(e,a,t){"use strict";var s=t("6df1"),i=t.n(s);i.a},"6df1":function(e,a,t){},"7f6d":function(e,a,t){"use strict";function s(e){for(var a=JSON.parse(JSON.stringify(e)),t=0;t<a.length;t++)a[t]["label"]=a[t].menu_name;return a.filter(function(e){var t=a.filter(function(a){return e["id"]==a["pid"]});return t.length>0&&(e["children"]=t),0==e["pid"]})}a["a"]={designData_tree:s}},"95b4":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"userPermission"},[t("div",{staticClass:"query_field mar_b10"},[t("el-row",[t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_addRefuseCause}},[e._v("新增拒绝原因")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.refreshData}},[e._v("刷新")])],1)],1),e._v(" "),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{prop:"refused_cause",label:"拒绝原因",width:""}}),e._v(" "),t("el-table-column",{attrs:{prop:"",label:"状态",width:""},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.cause_status?t("span",[e._v("可用")]):e._e(),e._v(" "),2==a.row.cause_status?t("span",[e._v("不可用")]):e._e()]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.modi_refuseCause(a.row)}}},[e._v("修改")]),e._v(" "),1==a.row.cause_status?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.modi_status(a.row)}}},[e._v("禁用")]):2==a.row.cause_status?t("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.modi_status(a.row)}}},[e._v("可用")]):e._e()]}}])})],1),e._v(" "),t("div",{staticClass:"block mar_t10"},[t("el-pagination",{attrs:{"current-page":e.currentPage,background:"",layout:"total, prev, pager, next, jumper",total:e.pageTotal},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.add_loading,expression:"add_loading"}],staticClass:"refuse_cause",attrs:{title:e.dialog_title,visible:e.addUsers_dialogVisible,width:"30%",center:"","close-on-click-modal":!1,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(a){e.addUsers_dialogVisible=a}}},[t("div",{staticClass:"dialogBody_addPermission "},[t("div",{staticClass:"grid-content bg-purple-dark pad_t2"},[t("el-form",{ref:"valid_addForm",staticClass:" valid_form",attrs:{inline:!0,model:e.valid_addForm,rules:e.add_rules,"label-width":""}},[t("el-form-item",{attrs:{label:"拒绝原因",prop:"refused_cause"}},[t("el-input",{attrs:{placeholder:"请输入拒绝原因"},model:{value:e.valid_addForm.refused_cause,callback:function(a){e.$set(e.valid_addForm,"refused_cause",a)},expression:"valid_addForm.refused_cause"}})],1)],1)],1)]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){e.addUsers_dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.save_addRefuseCause}},[e._v("确 定")])],1)]),e._v(" "),t("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.modiUser_loading,expression:"modiUser_loading"}],staticClass:"refuse_cause",attrs:{title:e.modiSys_dialogTitle,visible:e.modiUsers_dialogVisible,"close-on-click-modal":!1,width:"30%",center:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(a){e.modiUsers_dialogVisible=a}}},[t("div",{staticClass:"dialogBody_addPermission"},[t("div",{staticClass:"grid-content bg-purple-dark pad_t2"},[t("el-form",{ref:"valid_modiForm",staticClass:"valid_form",attrs:{inline:!0,model:e.valid_modiForm,rules:e.modi_rules,"label-width":""}},[t("el-form-item",{attrs:{label:"拒绝原因",prop:"refused_cause"}},[t("el-input",{attrs:{placeholder:"请输入拒绝原因"},model:{value:e.valid_modiForm.refused_cause,callback:function(a){e.$set(e.valid_modiForm,"refused_cause",a)},expression:"valid_modiForm.refused_cause"}})],1)],1)],1)]),e._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){e.modiUsers_dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.save_modiRefuseCause}},[e._v("确 定")])],1)])],1)},i=[],d=(t("96cf"),t("3b8d")),r=t("cf45"),o=(t("7f6d"),{name:"refusedCause",data:function(){return{tableData:[],tableLoading:!1,modi_loading:!1,add_loading:!1,pageTotal:100,currentPage:1,permission_dialogVisible:!1,addUsers_dialogVisible:!1,modiUsers_dialogVisible:!1,modiUser_loading:!1,dialog_title:"新增拒绝原因",modiSys_dialogTitle:"",formLabelWidth:"120px",addDialog_tree:[],modiDialog_tree:[],modi_default_ids:[],modi_id:"",valid_addForm:{refused_cause:""},add_rules:{refused_cause:[{required:!0,message:"请输入拒绝原因",trigger:"blur"}]},valid_modiForm:{refused_cause:"",causeid:""},modi_rules:{refused_cause:[{required:!0,message:"请输入拒绝原因",trigger:"blur"}]}}},created:function(){this.getTableList(1)},methods:{getTableList:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(a){var t,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:a,pageSize:10}},this.tableLoading=!0,e.next=4,this.$http.post("".concat(r["a"].baseUrl,"/remarkRefusedCause/selectRefusedList"),t);case 4:s=e.sent,"0000"==s.data.code&&(this.tableLoading=!1,this.tableData=s.data.data.remarkRefusedCauseList,this.pageTotal=s.data.data.page.pageTotal);case 6:case"end":return e.stop()}},e,this)}));function a(a){return e.apply(this,arguments)}return a}(),refreshData:function(){this.getTableList(this.currentPage)},handle_addRefuseCause:function(){var e=this;this.dialog_title="新增拒绝原因";var a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId}};this.$http.post("".concat(r["a"].baseUrl,"/remarkRefusedCause/addRefusedCause"),a).then(function(a){"0000"===a.data.code&&(console.log(a),e.addUsers_dialogVisible=!0,e.resetForm("valid_addForm"))}).catch(function(e){console.log(e)})},save_addRefuseCause:function(){var e=this;if(this.m_valid_addForm("valid_addForm")){var a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,refused_cause:this.valid_addForm.refused_cause}};this.add_loading=!0,this.$http.post("".concat(r["a"].baseUrl,"/remarkRefusedCause/saveRefusedCause"),a).then(function(a){"0000"==a.data.code?(e.add_loading=!1,e.m_message(a.data.msg,"success"),e.getTableList(e.currentPage),e.addUsers_dialogVisible=!1):(e.add_loading=!1,e.m_message(a.data.msg,"warning"))}).catch(function(e){console.log(e)})}},modi_refuseCause:function(e){var a=this;this.modiUsers_dialogVisible=!0,this.resetForm("valid_modiForm");var t={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,causeid:e.causeid}};this.modiUser_loading=!0,this.$http.post("".concat(r["a"].baseUrl,"/remarkRefusedCause/updateCause"),t).then(function(e){if("0000"==e.data.code){var t=e.data.data.cause;a.valid_modiForm.causeid=t.causeid,a.valid_modiForm.refused_cause=t.refused_cause,a.modiUser_loading=!1}}).catch(function(e){})},save_modiRefuseCause:function(){var e=this;if(this.m_valid_addForm("valid_modiForm")){var a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,causeid:this.valid_modiForm.causeid,refused_cause:this.valid_modiForm.refused_cause}};this.modi_loading=!0,this.$http.post("".concat(r["a"].baseUrl,"/remarkRefusedCause/saveRefusedCause"),a).then(function(a){"0000"==a.data.code?(e.modi_loading=!1,e.m_message(a.data.msg,"success"),e.getTableList(e.currentPage),e.modiUsers_dialogVisible=!1):(e.modi_loading=!1,e.m_message(a.data.msg,"success"))}).catch(function(e){console.log(e)})}},modi_status:function(e){var a=this,t="",s="";1==e.cause_status?(t=2,s="是否禁用该条原因?"):(t=1,s="是否设置该条原因为可用?"),this.$confirm(s,"可用/禁用",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",size:"mini",center:!0}).then(function(){var s={data:{causeid:e.causeid,cause_status:t}};a.$http.post("".concat(r["a"].baseUrl,"/remarkRefusedCause/updateRefusedCauseStatus"),s).then(function(e){"0000"==e.data.code?(a.m_message(e.data.msg,"success"),a.refreshData()):a.m_message(e.data.msg,"warning")}).catch(function(e){})})},handleCurrentChange:function(e){this.currentPage=e,this.getTableList(e)},m_valid_addForm:function(e){var a=!1;return this.$refs[e].validate(function(e){return e?(a=!0,!0):(a=!1,!1)}),a},m_message:function(e,a){this.$message({message:e,type:a})},resetForm:function(e){this.$refs[e]&&this.$refs[e].resetFields()}}}),n=o,l=(t("51cf"),t("2877")),u=Object(l["a"])(n,s,i,!1,null,null,null);a["default"]=u.exports}}]);