(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7d33"],{"51ef":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pad_5"},[a("div",{staticClass:"query_fields pad_b_no handle_timerange"},[a("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.queryForm,size:"mini"}},[a("el-form-item",{attrs:{label:"向导姓名",prop:"travelerName","label-width":""}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导姓名"},model:{value:t.queryForm.travelerName,callback:function(e){t.$set(t.queryForm,"travelerName",e)},expression:"queryForm.travelerName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"向导ID",prop:"customid","label-width":""}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导ID"},model:{value:t.queryForm.customid,callback:function(e){t.$set(t.queryForm,"customid",e)},expression:"queryForm.customid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"银行卡号",prop:"cardno","label-width":""}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入银行卡号"},model:{value:t.queryForm.cardno,callback:function(e){t.$set(t.queryForm,"cardno",e)},expression:"queryForm.cardno"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"提现日期",prop:"finish_time"}},[a("el-date-picker",{staticClass:"wid_140",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择提现日期"},model:{value:t.queryForm.finish_time,callback:function(e){t.$set(t.queryForm,"finish_time",e)},expression:"queryForm.finish_time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"向导电话",prop:"phone","label-width":""}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导电话"},model:{value:t.queryForm.phone,callback:function(e){t.$set(t.queryForm,"phone",e)},expression:"queryForm.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"提现类型",prop:"withdraw_type","label-width":"68px"}},[a("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择提现类型"},model:{value:t.queryForm.withdraw_type,callback:function(e){t.$set(t.queryForm,"withdraw_type",e)},expression:"queryForm.withdraw_type"}},t._l(t.queryForm.withdraw_types,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"出账状态",prop:"withdraw_status","label-width":"68px"}},[a("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择出账状态"},model:{value:t.queryForm.withdraw_status,callback:function(e){t.$set(t.queryForm,"withdraw_status",e)},expression:"queryForm.withdraw_status"}},t._l(t.queryForm.withdraw_statuss,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.queryData}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.resetData("queryForm")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handle_refresh}},[t._v("刷新")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.exportData("queryForm")}}},[t._v("导出出账账单")])],1)],1)],1),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"customid",label:"向导ID",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"travelerName",label:"向导姓名",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"countMoney",label:"提现总金额(元)",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"向导电话",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"cardno",label:"银行卡号",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"finish_time",label:"提现日期",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"提现类型",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.withdraw_type?a("span",[t._v("现金")]):2==e.row.withdraw_type?a("span",[t._v("贝壳")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"出账状态",width:""},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.withdraw_status?a("span",[t._v("处理中")]):1==e.row.withdraw_status?a("span",[t._v("提现成功")]):2==e.row.withdraw_status?a("span",[t._v("提现失败")]):3==e.row.withdraw_status?a("span",[t._v("作废")]):t._e()]}}])}),t._v(" "),1!=t.roleId?a("el-table-column",{attrs:{prop:"",label:"操作",width:"60px"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.withdraw_status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handle_upload(e.row)}}},[t._v("\n                  已出账\n                ")]):t._e()]}}],null,!1,1302656899)}):t._e()],1),t._v(" "),a("div",{staticClass:"block mar_t10"},[a("el-pagination",{attrs:{"current-page":t.currentPage,total:t.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":t.handleCurrentChange}})],1)],1)])},i=[],s=a("cf45"),o=a("5f87"),l={name:"withdraw",data:function(){return{roleId:"",tableLoading:!1,tableData:[],pageTotal:100,currentPage:1,queryForm:{travelerName:"",cardno:"",customid:"",finish_time:"",phone:"",withdraw_types:[{id:1,value:"现金"},{id:2,value:"贝壳"}],withdraw_type:"",withdraw_statuss:[{id:0,value:"处理中"},{id:1,value:"提现成功"},{id:2,value:"提现失败"},{id:3,value:"作废"}],withdraw_status:""}}},created:function(){this.roleId=this.$store.getters.roleId,this.getTabelDataList(1)},methods:{getTabelDataList:function(t){var e=this,a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:t,pageSize:10,customid:this.queryForm.customid,travelerName:this.queryForm.travelerName,cardno:this.queryForm.cardno,finish_time:this.queryForm.finish_time,phone:this.queryForm.phone,withdraw_type:this.queryForm.withdraw_type,withdraw_status:this.queryForm.withdraw_status}};this.tableLoading=!0,this.$http.post("".concat(s["a"].baseUrl,"/withdrawInfo/getWithdrawInfo"),a).then(function(t){"0000"==t.data.code?(e.tableData=t.data.data.withdrawList,e.pageTotal=t.data.data.page.pageTotal,e.tableLoading=!1):(e.m_message(t.data.msg,"warning"),e.tableLoading=!1)}).catch(function(t){})},exportData:function(){var t=Object(o["a"])(),e={signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,travelerName:this.queryForm.travelerName,cardno:this.queryForm.cardno,finish_time:this.queryForm.finish_time,phone:this.queryForm.phone,withdraw_type:this.queryForm.withdraw_type,withdraw_status:this.queryForm.withdraw_status,Authorization:t};window.location.href="".concat(s["a"].baseUrl,"/withdrawInfo/exportWithdrawInfo?travelerName=").concat(e.travelerName,"&cardno=").concat(e.cardno,"&phone=").concat(e.phone,"&withdraw_type=").concat(e.withdraw_type,"&withdraw_status=").concat(e.withdraw_status,"&finish_time=").concat(e.finish_time)},handle_refresh:function(){this.getTabelDataList(this.currentPage)},handle_upload:function(t){var e=this;this.$confirm("确定设置为已出账吗?","处理待出账",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",size:"mini",center:!0}).then(function(){var a={data:{withdrawid:t.withdrawid,withdraw_status:1}};e.$http.post("".concat(s["a"].baseUrl,"/withdrawInfo/uploadWithdrawStatus"),a).then(function(t){"0000"==t.data.code?(e.m_message(t.data.msg,"success"),e.handle_refresh()):e.m_message(t.data.msg,"warning")}).catch(function(t){})})},queryData:function(){this.getTabelDataList(1),this.currentPage=1},resetData:function(t){this.$refs[t].resetFields(),this.queryForm.startTime="",this.queryForm.endTime=""},handleCurrentChange:function(t){this.currentPage=t,this.getTabelDataList(t)},m_message:function(t,e){this.$message({message:t,type:e})}}},n=l,u=a("2877"),d=Object(u["a"])(n,r,i,!1,null,null,null);e["default"]=d.exports}}]);