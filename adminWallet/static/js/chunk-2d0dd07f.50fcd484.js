(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd07f"],{"803d":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pad_5"},[r("div",{staticClass:"query_fields pad_b_no handle_timerange"},[r("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm,"label-width":"80px",size:"mini"}},[r("el-form-item",{attrs:{label:"交易时间",prop:"allTime"}},[r("el-date-picker",{staticClass:"wid_140",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"开始日期","picker-options":e.pickerOptions_register1},model:{value:e.queryForm.startTime,callback:function(t){e.$set(e.queryForm,"startTime",t)},expression:"queryForm.startTime"}}),e._v(" "),r("el-date-picker",{staticClass:"wid_140",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"结束日期","picker-options":e.pickerOptions_register2},model:{value:e.queryForm.endTime,callback:function(t){e.$set(e.queryForm,"endTime",t)},expression:"queryForm.endTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"订单号",prop:"orderid"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"订单号"},model:{value:e.queryForm.orderid,callback:function(t){e.$set(e.queryForm,"orderid",t)},expression:"queryForm.orderid"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"交易金额"}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"lowMoney"}},[r("el-input",{staticStyle:{width:"70px"},attrs:{placeholder:"最小金额"},model:{value:e.queryForm.lowMoney,callback:function(t){e.$set(e.queryForm,"lowMoney",t)},expression:"queryForm.lowMoney"}}),e._v("-\n          ")],1),e._v(" "),r("el-form-item",{attrs:{prop:"highMoney"}},[r("el-input",{staticStyle:{width:"70px"},attrs:{placeholder:"最大金额"},model:{value:e.queryForm.highMoney,callback:function(t){e.$set(e.queryForm,"highMoney",t)},expression:"queryForm.highMoney"}}),e._v("元\n          ")],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"受益人",prop:"userName"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"受益人"},model:{value:e.queryForm.userName,callback:function(t){e.$set(e.queryForm,"userName",t)},expression:"queryForm.userName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"交易用户",prop:"src_username"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"交易用户"},model:{value:e.queryForm.src_username,callback:function(t){e.$set(e.queryForm,"src_username",t)},expression:"queryForm.src_username"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryData}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.resetData("queryForm")}}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_refresh}},[e._v("刷新")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportData("/order/exportProfi")}}},[e._v("导出数据")])],1)],1)],1),e._v(" "),r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"userName",label:"受益人",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"src_username",label:"交易用户",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"order_time",label:"交易时间",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"交易渠道",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.trade_type_class?r("span",[e._v("微信")]):1==t.row.trade_type_class?r("span",[e._v("支付宝")]):2==t.row.trade_type_class?r("span",[e._v("云闪付")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"orderid",label:"交易订单号",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"交易金额(元)",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.order_src_amount/100))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"收益金额(元)",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.order_amount/100))])]}}])})],1),e._v(" "),r("div",{staticClass:"block mar_t10"},[r("el-pagination",{attrs:{"current-page":e.currentPage,total:e.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}})],1)],1)])},o=[],s=r("cf45"),i=r("5f87"),n=r("bc3a"),l=r.n(n),u={name:"incomeList",data:function(){var e=this;return{roleId:"",tableLoading:!1,tableData:[],pageTotal:100,currentPage:1,pickerOptions_register1:{disabledDate:function(t){var r=e;return""!=r.queryForm.endTime?t.getTime()>new Date(r.queryForm.endTime).getTime():t.getTime()>Date.now()}},pickerOptions_register2:{disabledDate:function(t){var r=e;return""!=r.queryForm.startTime&&t.getTime()<new Date(r.queryForm.startTime).getTime()||t.getTime()>Date.now()}},queryForm:{allTime:"",startTime:"",endTime:"",lowMoney:"",highMoney:"",orderid:"",userName:"",src_username:""}}},created:function(){this.roleId=this.$store.getters.roleId,this.getTabelDataList(1)},methods:{getTabelDataList:function(e){var t=this,r={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:e,pageSize:10,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime,lowMoney:""===this.queryForm.lowMoney?"":100*this.queryForm.lowMoney,highMoney:""===this.queryForm.highMoney?"":100*this.queryForm.highMoney,orderid:this.queryForm.orderid,userName:this.queryForm.userName,src_username:this.queryForm.src_username}};this.tableLoading=!0,this.$http.post("".concat(s["a"].baseUrl,"/order/selectProfi"),r).then(function(e){"0000"==e.data.code?(t.tableData=e.data.data.profiList,t.pageTotal=e.data.data.page.pageTotal,t.tableLoading=!1):(t.m_message(e.data.msg,"warning"),t.tableLoading=!1)}).catch(function(e){})},exportData:function(e){var t=Object(i["a"])(),r=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});l()({method:"post",url:"".concat(s["a"].baseUrl).concat(e),headers:{Authorization:t},data:{data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime,lowMoney:""===this.queryForm.lowMoney?"":100*this.queryForm.lowMoney,highMoney:""===this.queryForm.highMoney?"":100*this.queryForm.highMoney,orderid:this.queryForm.orderid,userName:this.queryForm.userName,src_username:this.queryForm.src_username}},responseType:"blob"}).then(function(e){r.close();var t=e.headers["content-disposition"],a=document.createElement("a"),o=new Blob([e.data],{type:"text/csv"});a.style.display="none",a.href=URL.createObjectURL(o),a.setAttribute("download","".concat(t)),document.body.appendChild(a),a.click(),document.body.removeChild(a)}).catch(function(e){r.close()})},handle_refresh:function(){this.getTabelDataList(this.currentPage)},queryData:function(){this.getTabelDataList(1),this.currentPage=1},resetData:function(e){this.$refs[e].resetFields(),this.queryForm.startTime="",this.queryForm.endTime=""},handleCurrentChange:function(e){this.currentPage=e,this.getTabelDataList(e)},m_message:function(e,t){this.$message({message:e,type:t})}}},m=u,d=r("2877"),c=Object(d["a"])(m,a,o,!1,null,null,null);t["default"]=c.exports}}]);