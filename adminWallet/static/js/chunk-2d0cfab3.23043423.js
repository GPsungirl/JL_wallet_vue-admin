(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cfab3"],{6564:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pad_5"},[r("div",{staticClass:"query_fields pad_b_no handle_timerange"},[r("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm,size:"mini"}},[r("el-form-item",{attrs:{label:"交易时间",prop:"allTime"}},[r("el-date-picker",{staticClass:"wid_140",attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions0},model:{value:e.queryForm.startOrderTime,callback:function(t){e.$set(e.queryForm,"startOrderTime",t)},expression:"queryForm.startOrderTime"}}),e._v(" "),r("el-date-picker",{staticClass:"wid_140",attrs:{type:"date",placeholder:"结束日期","value-format":"yyyy-MM-dd","picker-options":e.pickerOptions1},model:{value:e.queryForm.endOrderTime,callback:function(t){e.$set(e.queryForm,"endOrderTime",t)},expression:"queryForm.endOrderTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"交易渠道",prop:"consume_type"}},[r("el-select",{staticClass:"wid_140",attrs:{placeholder:"交易渠道"},model:{value:e.queryForm.consume_type,callback:function(t){e.$set(e.queryForm,"consume_type",t)},expression:"queryForm.consume_type"}},e._l(e.queryForm.consume_types,function(e,t){return r("el-option",{key:t,attrs:{label:e.value,value:e.id}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"订单号",prop:"consume_no"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"订单号"},model:{value:e.queryForm.consume_no,callback:function(t){e.$set(e.queryForm,"consume_no",t)},expression:"queryForm.consume_no"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"交易金额"}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{prop:"startAmount"}},[r("el-input",{staticStyle:{width:"70px"},attrs:{placeholder:"最小金额"},model:{value:e.queryForm.startAmount,callback:function(t){e.$set(e.queryForm,"startAmount",t)},expression:"queryForm.startAmount"}}),e._v("-\n          ")],1),e._v(" "),r("el-form-item",{attrs:{prop:"endAmount"}},[r("el-input",{staticStyle:{width:"70px"},attrs:{placeholder:"最大金额"},model:{value:e.queryForm.endAmount,callback:function(t){e.$set(e.queryForm,"endAmount",t)},expression:"queryForm.endAmount"}}),e._v("元\n          ")],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"所属机构",prop:"agent_name"}},[r("el-input",{staticClass:"wid_140",attrs:{placeholder:"所属机构"},model:{value:e.queryForm.agent_name,callback:function(t){e.$set(e.queryForm,"agent_name",t)},expression:"queryForm.agent_name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"交易归属日期",prop:"bankTransactionTime"}},[r("el-date-picker",{staticClass:"wid_140",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"交易归属日期"},model:{value:e.queryForm.bankTransactionTime,callback:function(t){e.$set(e.queryForm,"bankTransactionTime",t)},expression:"queryForm.bankTransactionTime"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryData}},[e._v("查询")]),e._v(" "),r("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.resetData("queryForm")}}},[e._v("重置")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_refresh}},[e._v("刷新")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.exportData("queryForm")}}},[e._v("导出数据")])],1)],1)],1),e._v(" "),r("div",[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"username",label:"收款用户",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"agent_name",label:"所属机构",width:""}}),e._v(" "),4!=e.roleId&&3!=e.roleId?r("el-table-column",{attrs:{prop:"parter_name",label:"所属合伙人",width:""}}):e._e(),e._v(" "),4!=e.roleId?r("el-table-column",{attrs:{prop:"saler_name",label:"所属业务员",width:""}}):e._e(),e._v(" "),r("el-table-column",{attrs:{prop:"consume_no","show-overflow-tooltip":"",label:"交易订单号",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"order_time","show-overflow-tooltip":"",label:"交易时间",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"bankTransactionTime","show-overflow-tooltip":"",label:"交易归属日期",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"交易渠道",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.consume_type?r("span",[e._v("微信")]):1==t.row.consume_type?r("span",[e._v("支付宝")]):2==t.row.consume_type?r("span",[e._v("云闪付")]):3==t.row.consume_type?r("span",[e._v("代付")]):6==t.row.consume_type?r("span",[e._v("扫码支付")]):e._e()]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"交易金额(元)",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v(e._s(t.row.checkAmount))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"agentRate",label:"提成比例(%)",width:""}}),e._v(" "),r("el-table-column",{attrs:{prop:"agentAmount",label:"提成金额(元)",width:""}})],1),e._v(" "),r("div",{staticClass:"block mar_t10"},[r("el-pagination",{attrs:{"current-page":e.currentPage,total:e.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}})],1)],1)])},o=[],n=r("cf45"),s=r("5f87"),i={name:"payoffList",data:function(){var e=this;return{roleId:"",tableLoading:!1,tableData:[],pageTotal:100,currentPage:1,queryForm:{allTime:"",startOrderTime:"",endOrderTime:"",consume_types:[{id:0,value:"微信"},{id:1,value:"支付宝"},{id:2,value:"云闪付"},{id:3,value:"代付"},{id:6,value:"扫码支付"}],consume_type:"",consume_no:"",startAmount:"",endAmount:"",agent_name:"",bankTransactionTime:""},pickerOptions0:{disabledDate:function(t){var r=e;return""!=r.queryForm.endOrderTime?t.getTime()>new Date(r.queryForm.endOrderTime).getTime():t.getTime()>Date.now()}},pickerOptions1:{disabledDate:function(t){var r=e;return""!=r.queryForm.startOrderTime&&t.getTime()<new Date(r.queryForm.startOrderTime).getTime()||t.getTime()>Date.now()}}}},created:function(){this.roleId=this.$store.getters.roleId,this.getTabelDataList(1)},methods:{getTabelDataList:function(e){var t=this,r={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:e,pageSize:10,startOrderTime:this.queryForm.startOrderTime,endOrderTime:this.queryForm.endOrderTime,consume_type:this.queryForm.consume_type,consume_no:this.queryForm.consume_no,startAmount:""==this.queryForm.startAmount?"":100*this.queryForm.startAmount,endAmount:""==this.queryForm.endAmount?"":100*this.queryForm.endAmount,agent_name:this.queryForm.agent_name,bankTransactionTime:this.queryForm.bankTransactionTime}};this.tableLoading=!0,this.$http.post("".concat(n["a"].baseUrl,"/accountProfitInfo/accountProfitInfoList"),r).then(function(e){"0000"==e.data.code?(t.tableData=e.data.data.agentProfitList,t.pageTotal=e.data.data.page.pageTotal,t.tableLoading=!1):(t.m_message(e.data.msg,"warning"),t.tableLoading=!1)}).catch(function(e){})},exportData:function(){Object(s["a"])();var e={signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId};window.location.href="".concat(n["a"].baseUrl,"/accountProfitInfo/exportAccountProfit?signInUserId=").concat(e.signInUserId,"&signInRoleId=").concat(e.signInRoleId)},handle_refresh:function(){this.getTabelDataList(this.currentPage)},queryData:function(){this.getTabelDataList(1),this.currentPage=1},resetData:function(e){this.$refs[e].resetFields(),this.queryForm.startOrderTime="",this.queryForm.endOrderTime=""},handleCurrentChange:function(e){this.currentPage=e,this.getTabelDataList(e)},m_message:function(e,t){this.$message({message:e,type:t})}}},l=i,m=r("2877"),u=Object(m["a"])(l,a,o,!1,null,null,null);t["default"]=u.exports}}]);