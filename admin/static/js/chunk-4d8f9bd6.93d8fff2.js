(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d8f9bd6"],{"6c9a":function(e,a,s){},"7f6d":function(e,a,s){"use strict";function t(e){for(var a=JSON.parse(JSON.stringify(e)),s=0;s<a.length;s++)a[s]["label"]=a[s].menu_name;return a.filter(function(e){var s=a.filter(function(a){return e["id"]==a["pid"]});return s.length>0&&(e["children"]=s),0==e["pid"]})}a["a"]={designData_tree:t}},d619:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"userPermission"},[s("div",{staticClass:"query_field mar_b10"},[s("el-row",[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_addMessageInfo}},[e._v("新增信息")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.refreshData}},[e._v("刷新")])],1)],1),e._v(" "),s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[s("el-table-column",{attrs:{prop:"message_info",label:"信息内容",width:"850"}}),e._v(" "),s("el-table-column",{attrs:{prop:"",label:"状态",width:""},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.message_status?s("span",[e._v("可用")]):e._e(),e._v(" "),2==a.row.message_status?s("span",[e._v("不可用")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"message_type",label:"类型",width:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"",label:"操作",width:""},scopedSlots:e._u([{key:"default",fn:function(a){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return e.modi_refuseCause(a.row)}}},[e._v("修改")])]}}])})],1),e._v(" "),s("div",{staticClass:"block mar_t10"},[s("el-pagination",{attrs:{"current-page":e.currentPage,background:"",layout:"total, prev, pager, next, jumper",total:e.pageTotal},on:{"current-change":e.handleCurrentChange}})],1),e._v(" "),s("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.add_loading,expression:"add_loading"}],attrs:{title:e.dialog_title,visible:e.addUsers_dialogVisible,width:"30%",center:"","close-on-click-modal":!1,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(a){e.addUsers_dialogVisible=a}}},[s("div",{staticClass:"dialogBody_addPermission "},[s("div",{staticClass:"grid-content bg-purple-dark pad_t2"},[s("el-form",{ref:"valid_addForm",staticClass:" valid_form",attrs:{inline:!0,model:e.valid_addForm,rules:e.add_rules,"label-width":""}},[s("el-form-item",{attrs:{label:"信息内容",prop:"message_info"}},[s("el-input",{staticClass:"message_info",attrs:{placeholder:"请输入信息内容",type:"textarea"},model:{value:e.valid_addForm.message_info,callback:function(a){e.$set(e.valid_addForm,"message_info",a)},expression:"valid_addForm.message_info"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"信息类型",prop:"message_type"}},[s("el-input",{attrs:{placeholder:"请输入信息类型"},model:{value:e.valid_addForm.message_type,callback:function(a){e.$set(e.valid_addForm,"message_type",a)},expression:"valid_addForm.message_type"}})],1)],1)],1)]),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){e.addUsers_dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.save_addMessageInfo}},[e._v("确 定")])],1)]),e._v(" "),s("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.modiUser_loading,expression:"modiUser_loading"}],attrs:{title:e.modiSys_dialogTitle,visible:e.modiUsers_dialogVisible,"close-on-click-modal":!1,width:"30%",center:"","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{"update:visible":function(a){e.modiUsers_dialogVisible=a}}},[s("div",{staticClass:"dialogBody_addPermission"},[s("div",{staticClass:"grid-content bg-purple-dark pad_t2"},[s("el-form",{ref:"valid_modiForm",staticClass:"valid_form",attrs:{inline:!0,model:e.valid_modiForm,rules:e.modi_rules,"label-width":""}},[s("el-form-item",{attrs:{label:"信息内容",prop:"message_info"}},[s("el-input",{staticClass:"message_info",attrs:{placeholder:"请输入信息内容",type:"textarea"},model:{value:e.valid_modiForm.message_info,callback:function(a){e.$set(e.valid_modiForm,"message_info",a)},expression:"valid_modiForm.message_info"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"信息类型",prop:"message_type"}},[s("el-input",{attrs:{placeholder:"请输入信息类型"},model:{value:e.valid_modiForm.message_type,callback:function(a){e.$set(e.valid_modiForm,"message_type",a)},expression:"valid_modiForm.message_type"}})],1)],1)],1)]),e._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"info",size:"mini"},on:{click:function(a){e.modiUsers_dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.save_modiRefuseCause}},[e._v("确 定")])],1)])],1)},i=[],o=(s("96cf"),s("3b8d")),d=s("cf45"),n=(s("7f6d"),{name:"messageInfo",data:function(){return{tableData:[],tableLoading:!1,modi_loading:!1,add_loading:!1,pageTotal:100,currentPage:1,permission_dialogVisible:!1,addUsers_dialogVisible:!1,modiUsers_dialogVisible:!1,modiUser_loading:!1,dialog_title:"新增消息",modiSys_dialogTitle:"",formLabelWidth:"120px",addDialog_tree:[],modiDialog_tree:[],modi_default_ids:[],modi_id:"",valid_addForm:{message_info:"",message_type:""},add_rules:{message_info:[{required:!0,message:"请输入信息内容",trigger:"blur"}],message_type:[{required:!0,message:"请输入信息类型",trigger:"blur"}]},valid_modiForm:{message_info:"",message_type:"",messageId:""},modi_rules:{message_info:[{required:!0,message:"请输入信息内容",trigger:"blur"}],message_type:[{required:!0,message:"请输入信息类型",trigger:"blur"}]}}},created:function(){this.getTableList(1)},methods:{getTableList:function(){var e=Object(o["a"])(regeneratorRuntime.mark(function e(a){var s,t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s={data:{message_type:"",message_status:"",pageNum:a,pageSize:10}},this.tableLoading=!0,e.next=4,this.$http.post("".concat(d["a"].baseUrl,"/messageInfo/selectAllMessages"),s);case 4:t=e.sent,"0000"==t.data.code&&(this.tableLoading=!1,this.tableData=t.data.data.messageInfoList,this.pageTotal=t.data.data.page.pageTotal);case 6:case"end":return e.stop()}},e,this)}));function a(a){return e.apply(this,arguments)}return a}(),refreshData:function(){this.getTableList(this.currentPage)},handle_addMessageInfo:function(){var e=this;this.dialog_title="新增消息";var a={data:{}};this.$http.post("".concat(d["a"].baseUrl,"/messageInfo/addMessagesPage"),a).then(function(a){"0000"===a.data.code&&(console.log(a),e.addUsers_dialogVisible=!0,e.resetForm("valid_addForm"))}).catch(function(e){console.log(e)})},save_addMessageInfo:function(){var e=this;if(this.m_valid_addForm("valid_addForm")){var a={data:{message_info:this.valid_addForm.message_info,message_type:this.valid_addForm.message_type}};this.add_loading=!0,this.$http.post("".concat(d["a"].baseUrl,"/messageInfo/addMessagesAndUpdate"),a).then(function(a){"0000"==a.data.code?(e.add_loading=!1,e.m_message(a.data.msg,"success"),e.getTableList(e.currentPage),e.addUsers_dialogVisible=!1):(e.add_loading=!1,e.m_message(a.data.msg,"warning"))}).catch(function(e){console.log(e)})}},modi_refuseCause:function(e){var a=this;console.log(e),this.modiUsers_dialogVisible=!0,this.resetForm("valid_modiForm");var s={data:{messageId:e.messageid}};this.modiUser_loading=!0,this.$http.post("".concat(d["a"].baseUrl,"/messageInfo/updateMessagesPage"),s).then(function(e){if("0000"==e.data.code){var s=e.data.data.messageInfo;a.valid_modiForm.messageId=s.messageid,a.valid_modiForm.message_info=s.message_info,a.valid_modiForm.message_type=s.message_type,a.modiUser_loading=!1}}).catch(function(e){})},save_modiRefuseCause:function(){var e=this;if(this.m_valid_addForm("valid_modiForm")){var a={data:{messageId:this.valid_modiForm.messageId,message_info:this.valid_modiForm.message_info,message_type:this.valid_modiForm.message_type}};this.modi_loading=!0,this.$http.post("".concat(d["a"].baseUrl,"/messageInfo/addMessagesAndUpdate"),a).then(function(a){"0000"==a.data.code?(e.modi_loading=!1,e.m_message(a.data.msg,"success"),e.getTableList(e.currentPage),e.modiUsers_dialogVisible=!1):(e.modi_loading=!1,e.m_message(a.data.msg,"success"))}).catch(function(e){console.log(e)})}},modi_status:function(e){var a=this,s="",t="";1==e.cause_status?(s=2,t="是否禁用该条原因?"):(s=1,t="是否设置该条原因为可用?"),this.$confirm(t,"可用/禁用",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",size:"mini",center:!0}).then(function(){var t={data:{causeid:e.causeid,cause_status:s}};a.$http.post("".concat(d["a"].baseUrl,"/remarkRefusedCause/updateRefusedCauseStatus"),t).then(function(e){"0000"==e.data.code?(a.m_message(e.data.msg,"success"),a.refreshData()):a.m_message(e.data.msg,"warning")}).catch(function(e){})})},handleCurrentChange:function(e){this.currentPage=e,this.getTableList(e)},m_valid_addForm:function(e){var a=!1;return this.$refs[e].validate(function(e){return e?(a=!0,!0):(a=!1,!1)}),a},m_message:function(e,a){this.$message({message:e,type:a})},resetForm:function(e){this.$refs[e]&&this.$refs[e].resetFields()}}}),l=n,r=(s("eff7"),s("2877")),m=Object(r["a"])(l,t,i,!1,null,null,null);a["default"]=m.exports},eff7:function(e,a,s){"use strict";var t=s("6c9a"),i=s.n(t);i.a}}]);