(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20971d"],{a8a1:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pad_5"},[a("div",{staticClass:"query_fields pad_b_no handle_timerange"},[a("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.queryForm,size:"mini"}},[a("el-form-item",{attrs:{label:"收益类型",prop:"account_class","label-width":"68px"}},[a("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择收益类型"},model:{value:t.queryForm.account_class,callback:function(e){t.$set(t.queryForm,"account_class",e)},expression:"queryForm.account_class"}},t._l(t.queryForm.account_classs,function(t,e){return a("el-option",{key:e,attrs:{label:t.value,value:t.id}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{label:"所属机构",prop:"city_agent_name","label-width":"68px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入所属市级机构"},model:{value:t.queryForm.city_agent_name,callback:function(e){t.$set(t.queryForm,"city_agent_name",e)},expression:"queryForm.city_agent_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"收益来源ID",prop:"accountSourceCustomid","label-width":"88px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入收益来源ID"},model:{value:t.queryForm.accountSourceCustomid,callback:function(e){t.$set(t.queryForm,"accountSourceCustomid",e)},expression:"queryForm.accountSourceCustomid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"向导ID",prop:"customid","label-width":""}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导ID"},model:{value:t.queryForm.customid,callback:function(e){t.$set(t.queryForm,"customid",e)},expression:"queryForm.customid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"向导姓名",prop:"custom_name","label-width":""}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入向导姓名"},model:{value:t.queryForm.custom_name,callback:function(e){t.$set(t.queryForm,"custom_name",e)},expression:"queryForm.custom_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上级ID",prop:"up_customid","label-width":"68px"}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入上级ID"},model:{value:t.queryForm.up_customid,callback:function(e){t.$set(t.queryForm,"up_customid",e)},expression:"queryForm.up_customid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上级姓名",prop:"up_custom_name","label-width":""}},[a("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入上级姓名"},model:{value:t.queryForm.up_custom_name,callback:function(e){t.$set(t.queryForm,"up_custom_name",e)},expression:"queryForm.up_custom_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出行时间",prop:"allTime"}},[a("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},model:{value:t.queryForm.allTime,callback:function(e){t.$set(t.queryForm,"allTime",e)},expression:"queryForm.allTime"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.queryData}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(e){return t.resetData("queryForm")}}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.handle_refresh}},[t._v("刷新")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.exportData("queryForm")}}},[t._v("导出数据")])],1)],1)],1),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"",label:"收益类型",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.account_class?a("span",[t._v("出行")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"订单信息",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.order_travel_type?a("span",[t._v("晨光出行")]):2==e.row.order_travel_type?a("span",[t._v("暖阳午后")]):3==e.row.order_travel_type?a("span",[t._v("星空夜景")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"createtime","show-overflow-tooltip":!0,label:"订单时间",width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"订单金额",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"accountSourceCustomid",label:"收益来源ID",width:"96px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customid",label:"向导ID",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"custom_name",label:"向导姓名",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"city_agent_name",label:"所属机构","show-overflow-tooltip":!0,width:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"up_customid",label:"上级ID",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"up_custom_name",label:"上级姓名",width:"80px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"customAmount",label:"向导分成",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"cityAmount",label:"市机构分成",width:"70px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"upAmount",label:"上级分成",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"platAmount",label:"平台收益",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"totalPrice",label:"总价",width:"50px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createtime","show-overflow-tooltip":"",label:"订单时间",width:""}})],1),t._v(" "),a("div",{staticClass:"block mar_t10"},[a("el-pagination",{attrs:{"current-page":t.currentPage,total:t.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":t.handleCurrentChange}})],1)],1)])},r=[],l=a("cf45"),s={name:"accountProfit",data:function(){return{tableLoading:!1,tableData:[],pageTotal:100,currentPage:1,queryForm:{account_classs:[{id:1,value:"出行"}],account_class:"",city_agent_name:"",accountSourceCustomid:"",customid:"",custom_name:"",up_customid:"",up_custom_name:"",allTime:"",endTime:"",startTime:""}}},created:function(){this.getTabelDataList(1)},methods:{getTabelDataList:function(t){var e=this,a={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:t,pageSize:10,account_class:this.queryForm.account_class,city_agent_name:this.queryForm.city_agent_name,accountSourceCustomid:this.queryForm.accountSourceCustomid,customid:this.queryForm.customid,custom_name:this.queryForm.custom_name,up_customid:this.queryForm.up_customid,up_custom_name:this.queryForm.up_custom_name,travel_projects:this.queryForm.travel_projects,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime}};this.tableLoading=!0,this.$http.post("".concat(l["a"].baseUrl,"/accountProfit/selectAccountProfit"),a).then(function(t){console.log(t),"0000"==t.data.code&&(e.tableData=t.data.data.accountProfitList,e.pageTotal=t.data.data.page.pageTotal,e.tableLoading=!1)}).catch(function(t){})},exportData:function(){var t={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,account_class:this.queryForm.account_class,city_agent_name:this.queryForm.city_agent_name,customid:this.queryForm.customid,travel_projects:this.queryForm.travel_projects,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime}};window.location.href="".concat(l["a"].baseUrl,"/accountProfit/exportAccountProfit?signInUserId=").concat(t.data.signInUserId,"&signInRoleId=").concat(t.data.signInRoleId,"&customid=").concat(t.data.customid,"&account_class=").concat(t.data.account_class,"&city_agent_name=").concat(t.data.city_agent_name,"&startTime=").concat(t.data.startTime,"&endTime=").concat(t.data.endTime)},handle_refresh:function(){this.getTabelDataList(this.currentPage)},queryData:function(){this.queryForm.allTime.length>0&&(this.queryForm.startTime=this.queryForm.allTime[0],this.queryForm.endTime=this.queryForm.allTime[1]),this.getTabelDataList(1),this.currentPage=1},resetData:function(t){this.$refs[t].resetFields(),this.queryForm.startTime="",this.queryForm.endTime=""},handleCurrentChange:function(t){this.currentPage=t,this.getTabelDataList(t)},m_message:function(t,e){this.$message({message:t,type:e})}}},i=s,c=a("2877"),n=Object(c["a"])(i,o,r,!1,null,null,null);e["default"]=n.exports}}]);