(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aaf0b"],{"12c7":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pad_5"},[s("div",{staticClass:"query_fields pad_b_no handle_timerange"},[s("el-form",{ref:"queryForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.queryForm,size:"mini"}},[s("el-form-item",{attrs:{label:"昵称",prop:"nickname","label-width":"68px"}},[s("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入昵称"},model:{value:e.queryForm.nickname,callback:function(t){e.$set(e.queryForm,"nickname",t)},expression:"queryForm.nickname"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"用户ID",prop:"customid","label-width":"68px"}},[s("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入用户ID"},model:{value:e.queryForm.customid,callback:function(t){e.$set(e.queryForm,"customid",t)},expression:"queryForm.customid"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"订单编号",prop:"consume_no","label-width":"68px"}},[s("el-input",{staticClass:"wid_140",attrs:{placeholder:"请输入订单编号"},model:{value:e.queryForm.consume_no,callback:function(t){e.$set(e.queryForm,"consume_no",t)},expression:"queryForm.consume_no"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"支付方式",prop:"pay_type"}},[s("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择支付方式"},model:{value:e.queryForm.pay_type,callback:function(t){e.$set(e.queryForm,"pay_type",t)},expression:"queryForm.pay_type"}},e._l(e.queryForm.pay_types,function(e,t){return s("el-option",{key:t,attrs:{label:e.value,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"消费用途",prop:"business_type"}},[s("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择消费用途"},model:{value:e.queryForm.business_type,callback:function(t){e.$set(e.queryForm,"business_type",t)},expression:"queryForm.business_type"}},e._l(e.queryForm.business_types,function(e,t){return s("el-option",{key:t,attrs:{label:e.value,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"消费金额","label-width":"68px"}},[s("el-col",{attrs:{span:24}},[s("el-form-item",{attrs:{prop:"lowMoney"}},[s("el-input",{staticStyle:{width:"70px"},attrs:{placeholder:"最小金额"},model:{value:e.queryForm.lowMoney,callback:function(t){e.$set(e.queryForm,"lowMoney",t)},expression:"queryForm.lowMoney"}}),e._v("-\n          ")],1),e._v(" "),s("el-form-item",[s("el-input",{staticStyle:{width:"70px"},attrs:{placeholder:"最大金额"},model:{value:e.queryForm.highMoney,callback:function(t){e.$set(e.queryForm,"highMoney",t)},expression:"queryForm.highMoney"}}),e._v("元\n          ")],1)],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"消费时间",prop:"businessTime"}},[s("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.queryForm.businessTime,callback:function(t){e.$set(e.queryForm,"businessTime",t)},expression:"queryForm.businessTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"支付类别",prop:"consume_type"}},[s("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择流水类别"},on:{change:function(t){return e.handleChangeconsume_refund_status(t)}},model:{value:e.queryForm.consume_type,callback:function(t){e.$set(e.queryForm,"consume_type",t)},expression:"queryForm.consume_type"}},e._l(e.queryForm.consume_types,function(e,t){return s("el-option",{key:t,attrs:{label:e.value,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"支付状态",prop:"consume_refund_status"}},[s("el-select",{staticClass:"wid_140",attrs:{placeholder:"请选择流水状态"},model:{value:e.queryForm.consume_refund_status,callback:function(t){e.$set(e.queryForm,"consume_refund_status",t)},expression:"queryForm.consume_refund_status"}},e._l(e.queryForm.consume_refund_statuss,function(e,t){return s("el-option",{key:t,attrs:{label:e.value,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.queryData}},[e._v("查询")]),e._v(" "),s("el-button",{attrs:{type:"success",size:"mini"},on:{click:function(t){return e.resetData("queryForm")}}},[e._v("重置")]),e._v(" "),s("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handle_refresh}},[e._v("刷新")])],1)],1)],1),e._v(" "),s("div",[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[s("el-table-column",{attrs:{prop:"customid",label:"用户ID",width:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"nickname",label:"昵称",width:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"money",label:"消费金额(元)",width:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"",label:"性别",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"==t.row.sex?s("span",[e._v("男")]):"2"==t.row.sex?s("span",[e._v("女")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"phone",label:"电话",width:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"",label:"消费用途",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.business_type?s("span",[e._v("订单支付")]):2==t.row.business_type?s("span",[e._v("充值")]):3==t.row.business_type?s("span",[e._v("会员")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"createtime","show-overflow-tooltip":!0,label:"订单时间",width:""}}),e._v(" "),s("el-table-column",{attrs:{prop:"",label:"支付方式",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.consume_type&&0==t.row.consume_refund_status?s("span"):1==t.row.pay_type?s("span",[e._v("支付宝")]):2==t.row.pay_type?s("span",[e._v("微信")]):3==t.row.pay_type?s("span",[e._v("苹果")]):4==t.row.pay_type?s("span",[e._v("贝壳")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"",label:"支付状态",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.consume_type&&0==t.row.consume_refund_status?s("span",[e._v("待支付")]):1==t.row.consume_type&&1==t.row.consume_refund_status?s("span",[e._v("支付成功")]):1==t.row.consume_type&&2==t.row.consume_refund_status?s("span",[e._v("支付失败")]):1==t.row.consume_type&&3==t.row.consume_refund_status?s("span",[e._v("支付超时")]):e._e(),e._v(" "),2==t.row.consume_type&&0==t.row.consume_refund_status?s("span",[e._v("待退款")]):2==t.row.consume_type&&1==t.row.consume_refund_status?s("span",[e._v("退款成功")]):2==t.row.consume_type&&2==t.row.consume_refund_status?s("span",[e._v("退款失败")]):2==t.row.consume_type&&3==t.row.consume_refund_status?s("span",[e._v("退款超时")]):e._e()]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"consume_no",label:"订单编号",width:"200px"}})],1),e._v(" "),s("div",{staticClass:"block mar_t10"},[s("el-pagination",{attrs:{"current-page":e.currentPage,total:e.pageTotal,background:"",layout:"total, prev, pager, next, jumper"},on:{"current-change":e.handleCurrentChange}})],1)],1)])},o=[],a=s("cf45"),n={name:"consumeOrderUnion",data:function(){return{tableLoading:!1,tableData:[],pageTotal:0,currentPage:1,queryForm:{customid:"",consume_types:[{id:1,value:"支付"},{id:2,value:"退款"}],consume_type:"",consume_refund_statuss:[],consume_refund_status:"",pay11:[{id:0,value:"待支付"},{id:1,value:"支付成功"},{id:2,value:"支付失败"},{id:3,value:"支付超时"}],tui11:[{id:0,value:"待退款"},{id:1,value:"退款成功"},{id:2,value:"退款失败"},{id:3,value:"退款超时"}],business_types:[{id:1,value:"订单支付"},{id:2,value:"充值"},{id:3,value:"会员"}],business_type:"",consume_no:"",businessTime:"",startTime:"",endTime:"",lowMoney:"",highMoney:"",nickname:"",pay_types:[{id:1,value:"支付宝支付"},{id:2,value:"微信支付"},{id:3,value:"苹果支付"}],pay_type:""}}},created:function(){this.getTabelDataList(1)},methods:{getTabelDataList:function(e){var t=this,s={data:{signInUserId:this.$store.getters.userId,signInRoleId:this.$store.getters.roleId,pageNum:e,pageSize:10,customid:this.queryForm.customid,business_type:this.queryForm.business_type,consume_no:this.queryForm.consume_no,startTime:this.queryForm.startTime,endTime:this.queryForm.endTime,lowMoney:""==this.queryForm.lowMoney?this.queryForm.lowMoney:100*this.queryForm.lowMoney,highMoney:""==this.queryForm.highMoney?this.queryForm.highMoney:100*this.queryForm.highMoney,nickname:this.queryForm.nickname,pay_type:this.queryForm.pay_type,consume_type:this.queryForm.consume_type,consume_refund_status:this.queryForm.consume_refund_status}};this.tableLoading=!0,this.$http.post("".concat(a["a"].baseUrl,"/consumeOrderUnion/getConsumeOrderUnion"),s).then(function(e){"0000"==e.data.code&&(console.log(e),t.tableData=e.data.data.consumeOrderUnionList,t.pageTotal=e.data.data.page.pageTotal,t.tableLoading=!1)}).catch(function(e){})},handleChangeconsume_refund_status:function(e){1==e?(this.queryForm.consume_refund_statuss=this.queryForm.pay11,this.queryForm.consume_refund_status=0):2==e&&(this.queryForm.consume_refund_statuss=this.queryForm.tui11,this.queryForm.consume_refund_status=0)},handle_refresh:function(){this.getTabelDataList(this.currentPage)},queryData:function(){console.log(this.queryForm),this.queryForm.startTime=this.queryForm.businessTime[0],this.queryForm.endTime=this.queryForm.businessTime[1],this.getTabelDataList(1),this.currentPage=1},resetData:function(e){this.$refs[e].resetFields(),this.queryForm.businessTime="",this.queryForm.pay_type="",this.queryForm.business_type="",this.queryForm.lowMoney="",this.queryForm.highMoney=""},handleCurrentChange:function(e){this.currentPage=e,this.getTabelDataList(e)}}},u=n,l=s("2877"),i=Object(l["a"])(u,r,o,!1,null,null,null);t["default"]=i.exports}}]);